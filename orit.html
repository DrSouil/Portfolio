<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css" media="screen">
        //定义一个左右摇摆动画
        @keyframes test{
                0%{ transform:rotate(0deg); }
               25%{ transform:rotate(30deg); }
               50%{ transform:rotate(0deg);}
               75%{ transform:rotate(-30deg); }
              100%{ transform:rotate(0deg);}
        }
      #box{
         width:400px;height:200px;
         background:red;
         margin:200px auto;
      }
      //给box加一个动画
     #box.shake{
          animation:200ms test ease;
      }
    </style>


  </head>

  <body>


    <div id="box"></div>

  </body>
  <script type="text/javascript">

  //手机倾斜监听
    if(window.DeviceOrientationEvent){
        window.addEventListener('deviceorientation',DeviceOrientationHandler,false);
    }
    function DeviceOrientationHandler(event){
        var alpha = event.alpha,
                beta = event.beta,
                gamma = event.gamma;
        if(alpha != null || beta != null || gamma != null){
            if(Math.abs(gamma)<45){
                document.getElementById('box').style.transform="rotateZ("+-gamma+"deg) translate(-7px, 1px)";
            }
        }
    }



  </script>
</html>
